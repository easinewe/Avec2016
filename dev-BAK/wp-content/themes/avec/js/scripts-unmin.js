<!--///* LIBRARIES -------------------------*/	// EASING	/*! * jQuery Easing v1.3 * http://gsgd.co.uk/sandbox/jquery/easing/ */	jQuery.easing["jswing"]=jQuery.easing["swing"];jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,t,n,r,i){return jQuery.easing[jQuery.easing.def](e,t,n,r,i)},easeInQuad:function(e,t,n,r,i){return r*(t/=i)*t+n},easeOutQuad:function(e,t,n,r,i){return-r*(t/=i)*(t-2)+n},easeInOutQuad:function(e,t,n,r,i){if((t/=i/2)<1)return r/2*t*t+n;return-r/2*(--t*(t-2)-1)+n},easeInCubic:function(e,t,n,r,i){return r*(t/=i)*t*t+n},easeOutCubic:function(e,t,n,r,i){return r*((t=t/i-1)*t*t+1)+n},easeInOutCubic:function(e,t,n,r,i){if((t/=i/2)<1)return r/2*t*t*t+n;return r/2*((t-=2)*t*t+2)+n},easeInQuart:function(e,t,n,r,i){return r*(t/=i)*t*t*t+n},easeOutQuart:function(e,t,n,r,i){return-r*((t=t/i-1)*t*t*t-1)+n},easeInOutQuart:function(e,t,n,r,i){if((t/=i/2)<1)return r/2*t*t*t*t+n;return-r/2*((t-=2)*t*t*t-2)+n},easeInQuint:function(e,t,n,r,i){return r*(t/=i)*t*t*t*t+n},easeOutQuint:function(e,t,n,r,i){return r*((t=t/i-1)*t*t*t*t+1)+n},easeInOutQuint:function(e,t,n,r,i){if((t/=i/2)<1)return r/2*t*t*t*t*t+n;return r/2*((t-=2)*t*t*t*t+2)+n},easeInSine:function(e,t,n,r,i){return-r*Math.cos(t/i*(Math.PI/2))+r+n},easeOutSine:function(e,t,n,r,i){return r*Math.sin(t/i*(Math.PI/2))+n},easeInOutSine:function(e,t,n,r,i){return-r/2*(Math.cos(Math.PI*t/i)-1)+n},easeInExpo:function(e,t,n,r,i){return t==0?n:r*Math.pow(2,10*(t/i-1))+n},easeOutExpo:function(e,t,n,r,i){return t==i?n+r:r*(-Math.pow(2,-10*t/i)+1)+n},easeInOutExpo:function(e,t,n,r,i){if(t==0)return n;if(t==i)return n+r;if((t/=i/2)<1)return r/2*Math.pow(2,10*(t-1))+n;return r/2*(-Math.pow(2,-10*--t)+2)+n},easeInCirc:function(e,t,n,r,i){return-r*(Math.sqrt(1-(t/=i)*t)-1)+n},easeOutCirc:function(e,t,n,r,i){return r*Math.sqrt(1-(t=t/i-1)*t)+n},easeInOutCirc:function(e,t,n,r,i){if((t/=i/2)<1)return-r/2*(Math.sqrt(1-t*t)-1)+n;return r/2*(Math.sqrt(1-(t-=2)*t)+1)+n},easeInElastic:function(e,t,n,r,i){var s=1.70158;var o=0;var u=r;if(t==0)return n;if((t/=i)==1)return n+r;if(!o)o=i*.3;if(u<Math.abs(r)){u=r;var s=o/4}else var s=o/(2*Math.PI)*Math.asin(r/u);return-(u*Math.pow(2,10*(t-=1))*Math.sin((t*i-s)*2*Math.PI/o))+n},easeOutElastic:function(e,t,n,r,i){var s=1.70158;var o=0;var u=r;if(t==0)return n;if((t/=i)==1)return n+r;if(!o)o=i*.3;if(u<Math.abs(r)){u=r;var s=o/4}else var s=o/(2*Math.PI)*Math.asin(r/u);return u*Math.pow(2,-10*t)*Math.sin((t*i-s)*2*Math.PI/o)+r+n},easeInOutElastic:function(e,t,n,r,i){var s=1.70158;var o=0;var u=r;if(t==0)return n;if((t/=i/2)==2)return n+r;if(!o)o=i*.3*1.5;if(u<Math.abs(r)){u=r;var s=o/4}else var s=o/(2*Math.PI)*Math.asin(r/u);if(t<1)return-.5*u*Math.pow(2,10*(t-=1))*Math.sin((t*i-s)*2*Math.PI/o)+n;return u*Math.pow(2,-10*(t-=1))*Math.sin((t*i-s)*2*Math.PI/o)*.5+r+n},easeInBack:function(e,t,n,r,i,s){if(s==undefined)s=1.70158;return r*(t/=i)*t*((s+1)*t-s)+n},easeOutBack:function(e,t,n,r,i,s){if(s==undefined)s=1.70158;return r*((t=t/i-1)*t*((s+1)*t+s)+1)+n},easeInOutBack:function(e,t,n,r,i,s){if(s==undefined)s=1.70158;if((t/=i/2)<1)return r/2*t*t*(((s*=1.525)+1)*t-s)+n;return r/2*((t-=2)*t*(((s*=1.525)+1)*t+s)+2)+n},easeInBounce:function(e,t,n,r,i){return r-jQuery.easing.easeOutBounce(e,i-t,0,r,i)+n},easeOutBounce:function(e,t,n,r,i){if((t/=i)<1/2.75){return r*7.5625*t*t+n}else if(t<2/2.75){return r*(7.5625*(t-=1.5/2.75)*t+.75)+n}else if(t<2.5/2.75){return r*(7.5625*(t-=2.25/2.75)*t+.9375)+n}else{return r*(7.5625*(t-=2.625/2.75)*t+.984375)+n}},easeInOutBounce:function(e,t,n,r,i){if(t<i/2)return jQuery.easing.easeInBounce(e,t*2,0,r,i)*.5+n;return jQuery.easing.easeOutBounce(e,t*2-i,0,r,i)*.5+r*.5+n}})	// EASING COMPATABILITY	/*! * jQuery Easing Compatibility v1 * http://gsgd.co.uk/sandbox/jquery.easing.php */	jQuery.extend(jQuery.easing,{easeIn:function(e,t,n,r,i){return jQuery.easing.easeInQuad(e,t,n,r,i)},easeOut:function(e,t,n,r,i){return jQuery.easing.easeOutQuad(e,t,n,r,i)},easeInOut:function(e,t,n,r,i){return jQuery.easing.easeInOutQuad(e,t,n,r,i)},expoin:function(e,t,n,r,i){return jQuery.easing.easeInExpo(e,t,n,r,i)},expoout:function(e,t,n,r,i){return jQuery.easing.easeOutExpo(e,t,n,r,i)},expoinout:function(e,t,n,r,i){return jQuery.easing.easeInOutExpo(e,t,n,r,i)},bouncein:function(e,t,n,r,i){return jQuery.easing.easeInBounce(e,t,n,r,i)},bounceout:function(e,t,n,r,i){return jQuery.easing.easeOutBounce(e,t,n,r,i)},bounceinout:function(e,t,n,r,i){return jQuery.easing.easeInOutBounce(e,t,n,r,i)},elasin:function(e,t,n,r,i){return jQuery.easing.easeInElastic(e,t,n,r,i)},elasout:function(e,t,n,r,i){return jQuery.easing.easeOutElastic(e,t,n,r,i)},elasinout:function(e,t,n,r,i){return jQuery.easing.easeInOutElastic(e,t,n,r,i)},backin:function(e,t,n,r,i){return jQuery.easing.easeInBack(e,t,n,r,i)},backout:function(e,t,n,r,i){return jQuery.easing.easeOutBack(e,t,n,r,i)},backinout:function(e,t,n,r,i){return jQuery.easing.easeInOutBack(e,t,n,r,i)}})	// MASONRY	/*! * Masonry PACKAGED v3.1.5 * Cascading grid layout library * http://masonry.desandro.com * MIT License * by David DeSandro */	!function(a){function b(){}function c(a){function c(b){b.prototype.option||(b.prototype.option=function(b){a.isPlainObject(b)&&(this.options=a.extend(!0,this.options,b))})}function e(b,c){a.fn[b]=function(e){if("string"==typeof e){for(var g=d.call(arguments,1),h=0,i=this.length;i>h;h++){var j=this[h],k=a.data(j,b);if(k)if(a.isFunction(k[e])&&"_"!==e.charAt(0)){var l=k[e].apply(k,g);if(void 0!==l)return l}else f("no such method '"+e+"' for "+b+" instance");else f("cannot call methods on "+b+" prior to initialization; attempted to call '"+e+"'")}return this}return this.each(function(){var d=a.data(this,b);d?(d.option(e),d._init()):(d=new c(this,e),a.data(this,b,d))})}}if(a){var f="undefined"==typeof console?b:function(a){console.error(a)};return a.bridget=function(a,b){c(b),e(a,b)},a.bridget}}var d=Array.prototype.slice;"function"==typeof define&&define.amd?define("jquery-bridget/jquery.bridget",["jquery"],c):c(a.jQuery)}(window),function(a){function b(b){var c=a.event;return c.target=c.target||c.srcElement||b,c}var c=document.documentElement,d=function(){};c.addEventListener?d=function(a,b,c){a.addEventListener(b,c,!1)}:c.attachEvent&&(d=function(a,c,d){a[c+d]=d.handleEvent?function(){var c=b(a);d.handleEvent.call(d,c)}:function(){var c=b(a);d.call(a,c)},a.attachEvent("on"+c,a[c+d])});var e=function(){};c.removeEventListener?e=function(a,b,c){a.removeEventListener(b,c,!1)}:c.detachEvent&&(e=function(a,b,c){a.detachEvent("on"+b,a[b+c]);try{delete a[b+c]}catch(d){a[b+c]=void 0}});var f={bind:d,unbind:e};"function"==typeof define&&define.amd?define("eventie/eventie",f):"object"==typeof exports?module.exports=f:a.eventie=f}(this),function(a){function b(a){"function"==typeof a&&(b.isReady?a():f.push(a))}function c(a){var c="readystatechange"===a.type&&"complete"!==e.readyState;if(!b.isReady&&!c){b.isReady=!0;for(var d=0,g=f.length;g>d;d++){var h=f[d];h()}}}function d(d){return d.bind(e,"DOMContentLoaded",c),d.bind(e,"readystatechange",c),d.bind(a,"load",c),b}var e=a.document,f=[];b.isReady=!1,"function"==typeof define&&define.amd?(b.isReady="function"==typeof requirejs,define("doc-ready/doc-ready",["eventie/eventie"],d)):a.docReady=d(a.eventie)}(this),function(){function a(){}function b(a,b){for(var c=a.length;c--;)if(a[c].listener===b)return c;return-1}function c(a){return function(){return this[a].apply(this,arguments)}}var d=a.prototype,e=this,f=e.EventEmitter;d.getListeners=function(a){var b,c,d=this._getEvents();if(a instanceof RegExp){b={};for(c in d)d.hasOwnProperty(c)&&a.test(c)&&(b[c]=d[c])}else b=d[a]||(d[a]=[]);return b},d.flattenListeners=function(a){var b,c=[];for(b=0;b<a.length;b+=1)c.push(a[b].listener);return c},d.getListenersAsObject=function(a){var b,c=this.getListeners(a);return c instanceof Array&&(b={},b[a]=c),b||c},d.addListener=function(a,c){var d,e=this.getListenersAsObject(a),f="object"==typeof c;for(d in e)e.hasOwnProperty(d)&&-1===b(e[d],c)&&e[d].push(f?c:{listener:c,once:!1});return this},d.on=c("addListener"),d.addOnceListener=function(a,b){return this.addListener(a,{listener:b,once:!0})},d.once=c("addOnceListener"),d.defineEvent=function(a){return this.getListeners(a),this},d.defineEvents=function(a){for(var b=0;b<a.length;b+=1)this.defineEvent(a[b]);return this},d.removeListener=function(a,c){var d,e,f=this.getListenersAsObject(a);for(e in f)f.hasOwnProperty(e)&&(d=b(f[e],c),-1!==d&&f[e].splice(d,1));return this},d.off=c("removeListener"),d.addListeners=function(a,b){return this.manipulateListeners(!1,a,b)},d.removeListeners=function(a,b){return this.manipulateListeners(!0,a,b)},d.manipulateListeners=function(a,b,c){var d,e,f=a?this.removeListener:this.addListener,g=a?this.removeListeners:this.addListeners;if("object"!=typeof b||b instanceof RegExp)for(d=c.length;d--;)f.call(this,b,c[d]);else for(d in b)b.hasOwnProperty(d)&&(e=b[d])&&("function"==typeof e?f.call(this,d,e):g.call(this,d,e));return this},d.removeEvent=function(a){var b,c=typeof a,d=this._getEvents();if("string"===c)delete d[a];else if(a instanceof RegExp)for(b in d)d.hasOwnProperty(b)&&a.test(b)&&delete d[b];else delete this._events;return this},d.removeAllListeners=c("removeEvent"),d.emitEvent=function(a,b){var c,d,e,f,g=this.getListenersAsObject(a);for(e in g)if(g.hasOwnProperty(e))for(d=g[e].length;d--;)c=g[e][d],c.once===!0&&this.removeListener(a,c.listener),f=c.listener.apply(this,b||[]),f===this._getOnceReturnValue()&&this.removeListener(a,c.listener);return this},d.trigger=c("emitEvent"),d.emit=function(a){var b=Array.prototype.slice.call(arguments,1);return this.emitEvent(a,b)},d.setOnceReturnValue=function(a){return this._onceReturnValue=a,this},d._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},d._getEvents=function(){return this._events||(this._events={})},a.noConflict=function(){return e.EventEmitter=f,a},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return a}):"object"==typeof module&&module.exports?module.exports=a:this.EventEmitter=a}.call(this),function(a){function b(a){if(a){if("string"==typeof d[a])return a;a=a.charAt(0).toUpperCase()+a.slice(1);for(var b,e=0,f=c.length;f>e;e++)if(b=c[e]+a,"string"==typeof d[b])return b}}var c="Webkit Moz ms Ms O".split(" "),d=document.documentElement.style;"function"==typeof define&&define.amd?define("get-style-property/get-style-property",[],function(){return b}):"object"==typeof exports?module.exports=b:a.getStyleProperty=b}(window),function(a){function b(a){var b=parseFloat(a),c=-1===a.indexOf("%")&&!isNaN(b);return c&&b}function c(){for(var a={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},b=0,c=g.length;c>b;b++){var d=g[b];a[d]=0}return a}function d(a){function d(a){if("string"==typeof a&&(a=document.querySelector(a)),a&&"object"==typeof a&&a.nodeType){var d=f(a);if("none"===d.display)return c();var e={};e.width=a.offsetWidth,e.height=a.offsetHeight;for(var k=e.isBorderBox=!(!j||!d[j]||"border-box"!==d[j]),l=0,m=g.length;m>l;l++){var n=g[l],o=d[n];o=h(a,o);var p=parseFloat(o);e[n]=isNaN(p)?0:p}var q=e.paddingLeft+e.paddingRight,r=e.paddingTop+e.marginBottom,s=e.marginLeft+e.marginRight,t=e.marginTop+e.marginBottom,u=e.borderLeftWidth+e.borderRightWidth,v=e.borderTopWidth+e.borderBottomWidth,w=k&&i,x=b(d.width);x!==!1&&(e.width=x+(w?0:q+u));var y=b(d.height);return y!==!1&&(e.height=y+(w?0:r+v)),e.innerWidth=e.width-(q+u),e.innerHeight=e.height-(r+v),e.outerWidth=e.width+s,e.outerHeight=e.height+t,e}}function h(a,b){if(e||-1===b.indexOf("%"))return b;var c=a.style,d=c.left,f=a.runtimeStyle,g=f&&f.left;return g&&(f.left=a.currentStyle.left),c.left=b,b=c.pixelLeft,c.left=d,g&&(f.left=g),b}var i,j=a("boxSizing");return function(){if(j){var a=document.createElement("div");a.style.width="200px",a.style.padding="1px 2px 3px 4px",a.style.borderStyle="solid",a.style.borderWidth="1px 2px 3px 4px",a.style[j]="border-box";var c=document.body||document.documentElement;c.appendChild(a);var d=f(a);i=200===b(d.width),c.removeChild(a)}}(),d}var e=a.getComputedStyle,f=e?function(a){return e(a,null)}:function(a){return a.currentStyle},g=["paddingLeft","paddingRight","paddingTop","marginBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];"function"==typeof define&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],d):"object"==typeof exports?module.exports=d(require("get-style-property")):a.getSize=d(a.getStyleProperty)}(window),function(a,b){function c(a,b){return a[h](b)}function d(a){if(!a.parentNode){var b=document.createDocumentFragment();b.appendChild(a)}}function e(a,b){d(a);for(var c=a.parentNode.querySelectorAll(b),e=0,f=c.length;f>e;e++)if(c[e]===a)return!0;return!1}function f(a,b){return d(a),c(a,b)}var g,h=function(){if(b.matchesSelector)return"matchesSelector";for(var a=["webkit","moz","ms","o"],c=0,d=a.length;d>c;c++){var e=a[c],f=e+"MatchesSelector";if(b[f])return f}}();if(h){var i=document.createElement("div"),j=c(i,"div");g=j?c:f}else g=e;"function"==typeof define&&define.amd?define("matches-selector/matches-selector",[],function(){return g}):window.matchesSelector=g}(this,Element.prototype),function(a){function b(a,b){for(var c in b)a[c]=b[c];return a}function c(a){for(var b in a)return!1;return b=null,!0}function d(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}function e(a,e,f){function h(a,b){a&&(this.element=a,this.layout=b,this.position={x:0,y:0},this._create())}var i=f("transition"),j=f("transform"),k=i&&j,l=!!f("perspective"),m={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[i],n=["transform","transition","transitionDuration","transitionProperty"],o=function(){for(var a={},b=0,c=n.length;c>b;b++){var d=n[b],e=f(d);e&&e!==d&&(a[d]=e)}return a}();b(h.prototype,a.prototype),h.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},h.prototype.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)},h.prototype.getSize=function(){this.size=e(this.element)},h.prototype.css=function(a){var b=this.element.style;for(var c in a){var d=o[c]||c;b[d]=a[c]}},h.prototype.getPosition=function(){var a=g(this.element),b=this.layout.options,c=b.isOriginLeft,d=b.isOriginTop,e=parseInt(a[c?"left":"right"],10),f=parseInt(a[d?"top":"bottom"],10);e=isNaN(e)?0:e,f=isNaN(f)?0:f;var h=this.layout.size;e-=c?h.paddingLeft:h.paddingRight,f-=d?h.paddingTop:h.marginBottom,this.position.x=e,this.position.y=f},h.prototype.layoutPosition=function(){var a=this.layout.size,b=this.layout.options,c={};b.isOriginLeft?(c.left=this.position.x+a.paddingLeft+"px",c.right=""):(c.right=this.position.x+a.paddingRight+"px",c.left=""),b.isOriginTop?(c.top=this.position.y+a.paddingTop+"px",c.bottom=""):(c.bottom=this.position.y+a.marginBottom+"px",c.top=""),this.css(c),this.emitEvent("layout",[this])};var p=l?function(a,b){return"translate3d("+a+"px, "+b+"px, 0)"}:function(a,b){return"translate("+a+"px, "+b+"px)"};h.prototype._transitionTo=function(a,b){this.getPosition();var c=this.position.x,d=this.position.y,e=parseInt(a,10),f=parseInt(b,10),g=e===this.position.x&&f===this.position.y;if(this.setPosition(a,b),g&&!this.isTransitioning)return void this.layoutPosition();var h=a-c,i=b-d,j={},k=this.layout.options;h=k.isOriginLeft?h:-h,i=k.isOriginTop?i:-i,j.transform=p(h,i),this.transition({to:j,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},h.prototype.goTo=function(a,b){this.setPosition(a,b),this.layoutPosition()},h.prototype.moveTo=k?h.prototype._transitionTo:h.prototype.goTo,h.prototype.setPosition=function(a,b){this.position.x=parseInt(a,10),this.position.y=parseInt(b,10)},h.prototype._nonTransition=function(a){this.css(a.to),a.isCleaning&&this._removeStyles(a.to);for(var b in a.onTransitionEnd)a.onTransitionEnd[b].call(this)},h.prototype._transition=function(a){if(!parseFloat(this.layout.options.transitionDuration))return void this._nonTransition(a);var b=this._transn;for(var c in a.onTransitionEnd)b.onEnd[c]=a.onTransitionEnd[c];for(c in a.to)b.ingProperties[c]=!0,a.isCleaning&&(b.clean[c]=!0);if(a.from){this.css(a.from);var d=this.element.offsetHeight;d=null}this.enableTransition(a.to),this.css(a.to),this.isTransitioning=!0};var q=j&&d(j)+",opacity";h.prototype.enableTransition=function(){this.isTransitioning||(this.css({transitionProperty:q,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(m,this,!1))},h.prototype.transition=h.prototype[i?"_transition":"_nonTransition"],h.prototype.onwebkitTransitionEnd=function(a){this.ontransitionend(a)},h.prototype.onotransitionend=function(a){this.ontransitionend(a)};var r={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};h.prototype.ontransitionend=function(a){if(a.target===this.element){var b=this._transn,d=r[a.propertyName]||a.propertyName;if(delete b.ingProperties[d],c(b.ingProperties)&&this.disableTransition(),d in b.clean&&(this.element.style[a.propertyName]="",delete b.clean[d]),d in b.onEnd){var e=b.onEnd[d];e.call(this),delete b.onEnd[d]}this.emitEvent("transitionEnd",[this])}},h.prototype.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(m,this,!1),this.isTransitioning=!1},h.prototype._removeStyles=function(a){var b={};for(var c in a)b[c]="";this.css(b)};var s={transitionProperty:"",transitionDuration:""};return h.prototype.removeTransitionStyles=function(){this.css(s)},h.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.emitEvent("remove",[this])},h.prototype.remove=function(){if(!i||!parseFloat(this.layout.options.transitionDuration))return void this.removeElem();var a=this;this.on("transitionEnd",function(){return a.removeElem(),!0}),this.hide()},h.prototype.reveal=function(){delete this.isHidden,this.css({display:""});var a=this.layout.options;this.transition({from:a.hiddenStyle,to:a.visibleStyle,isCleaning:!0})},h.prototype.hide=function(){this.isHidden=!0,this.css({display:""});var a=this.layout.options;this.transition({from:a.visibleStyle,to:a.hiddenStyle,isCleaning:!0,onTransitionEnd:{opacity:function(){this.isHidden&&this.css({display:"none"})}}})},h.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},h}var f=a.getComputedStyle,g=f?function(a){return f(a,null)}:function(a){return a.currentStyle};"function"==typeof define&&define.amd?define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property"],e):(a.Outlayer={},a.Outlayer.Item=e(a.EventEmitter,a.getSize,a.getStyleProperty))}(window),function(a){function b(a,b){for(var c in b)a[c]=b[c];return a}function c(a){return"[object Array]"===l.call(a)}function d(a){var b=[];if(c(a))b=a;else if(a&&"number"==typeof a.length)for(var d=0,e=a.length;e>d;d++)b.push(a[d]);else b.push(a);return b}function e(a,b){var c=n(b,a);-1!==c&&b.splice(c,1)}function f(a){return a.replace(/(.)([A-Z])/g,function(a,b,c){return b+"-"+c}).toLowerCase()}function g(c,g,l,n,o,p){function q(a,c){if("string"==typeof a&&(a=h.querySelector(a)),!a||!m(a))return void(i&&i.error("Bad "+this.constructor.namespace+" element: "+a));this.element=a,this.options=b({},this.constructor.defaults),this.option(c);var d=++r;this.element.outlayerGUID=d,s[d]=this,this._create(),this.options.isInitLayout&&this.layout()}var r=0,s={};return q.namespace="outlayer",q.Item=p,q.defaults={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,isResizingContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},b(q.prototype,l.prototype),q.prototype.option=function(a){b(this.options,a)},q.prototype._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),b(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()},q.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},q.prototype._itemize=function(a){for(var b=this._filterFindItemElements(a),c=this.constructor.Item,d=[],e=0,f=b.length;f>e;e++){var g=b[e],h=new c(g,this);d.push(h)}return d},q.prototype._filterFindItemElements=function(a){a=d(a);for(var b=this.options.itemSelector,c=[],e=0,f=a.length;f>e;e++){var g=a[e];if(m(g))if(b){o(g,b)&&c.push(g);for(var h=g.querySelectorAll(b),i=0,j=h.length;j>i;i++)c.push(h[i])}else c.push(g)}return c},q.prototype.getItemElements=function(){for(var a=[],b=0,c=this.items.length;c>b;b++)a.push(this.items[b].element);return a},q.prototype.layout=function(){this._resetLayout(),this._manageStamps();var a=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,a),this._isLayoutInited=!0},q.prototype._init=q.prototype.layout,q.prototype._resetLayout=function(){this.getSize()},q.prototype.getSize=function(){this.size=n(this.element)},q.prototype._getMeasurement=function(a,b){var c,d=this.options[a];d?("string"==typeof d?c=this.element.querySelector(d):m(d)&&(c=d),this[a]=c?n(c)[b]:d):this[a]=0},q.prototype.layoutItems=function(a,b){a=this._getItemsForLayout(a),this._layoutItems(a,b),this._postLayout()},q.prototype._getItemsForLayout=function(a){for(var b=[],c=0,d=a.length;d>c;c++){var e=a[c];e.isIgnored||b.push(e)}return b},q.prototype._layoutItems=function(a,b){function c(){d.emitEvent("layoutComplete",[d,a])}var d=this;if(!a||!a.length)return void c();this._itemsOn(a,"layout",c);for(var e=[],f=0,g=a.length;g>f;f++){var h=a[f],i=this._getItemLayoutPosition(h);i.item=h,i.isInstant=b||h.isLayoutInstant,e.push(i)}this._processLayoutQueue(e)},q.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},q.prototype._processLayoutQueue=function(a){for(var b=0,c=a.length;c>b;b++){var d=a[b];this._positionItem(d.item,d.x,d.y,d.isInstant)}},q.prototype._positionItem=function(a,b,c,d){d?a.goTo(b,c):a.moveTo(b,c)},q.prototype._postLayout=function(){this.resizeContainer()},q.prototype.resizeContainer=function(){if(this.options.isResizingContainer){var a=this._getContainerSize();a&&(this._setContainerMeasure(a.width,!0),this._setContainerMeasure(a.height,!1))}},q.prototype._getContainerSize=k,q.prototype._setContainerMeasure=function(a,b){if(void 0!==a){var c=this.size;c.isBorderBox&&(a+=b?c.paddingLeft+c.paddingRight+c.borderLeftWidth+c.borderRightWidth:c.marginBottom+c.paddingTop+c.borderTopWidth+c.borderBottomWidth),a=Math.max(a,0),this.element.style[b?"width":"height"]=a+"px"}},q.prototype._itemsOn=function(a,b,c){function d(){return e++,e===f&&c.call(g),!0}for(var e=0,f=a.length,g=this,h=0,i=a.length;i>h;h++){var j=a[h];j.on(b,d)}},q.prototype.ignore=function(a){var b=this.getItem(a);b&&(b.isIgnored=!0)},q.prototype.unignore=function(a){var b=this.getItem(a);b&&delete b.isIgnored},q.prototype.stamp=function(a){if(a=this._find(a)){this.stamps=this.stamps.concat(a);for(var b=0,c=a.length;c>b;b++){var d=a[b];this.ignore(d)}}},q.prototype.unstamp=function(a){if(a=this._find(a))for(var b=0,c=a.length;c>b;b++){var d=a[b];e(d,this.stamps),this.unignore(d)}},q.prototype._find=function(a){return a?("string"==typeof a&&(a=this.element.querySelectorAll(a)),a=d(a)):void 0},q.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var a=0,b=this.stamps.length;b>a;a++){var c=this.stamps[a];this._manageStamp(c)}}},q.prototype._getBoundingRect=function(){var a=this.element.getBoundingClientRect(),b=this.size;this._boundingRect={left:a.left+b.paddingLeft+b.borderLeftWidth,top:a.top+b.paddingTop+b.borderTopWidth,right:a.right-(b.paddingRight+b.borderRightWidth),bottom:a.bottom-(b.marginBottom+b.borderBottomWidth)}},q.prototype._manageStamp=k,q.prototype._getElementOffset=function(a){var b=a.getBoundingClientRect(),c=this._boundingRect,d=n(a),e={left:b.left-c.left-d.marginLeft,top:b.top-c.top-d.marginTop,right:c.right-b.right-d.marginRight,bottom:c.bottom-b.bottom-d.marginBottom};return e},q.prototype.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)},q.prototype.bindResize=function(){this.isResizeBound||(c.bind(a,"resize",this),this.isResizeBound=!0)},q.prototype.unbindResize=function(){this.isResizeBound&&c.unbind(a,"resize",this),this.isResizeBound=!1},q.prototype.onresize=function(){function a(){b.resize(),delete b.resizeTimeout}this.resizeTimeout&&clearTimeout(this.resizeTimeout);var b=this;this.resizeTimeout=setTimeout(a,100)},q.prototype.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},q.prototype.needsResizeLayout=function(){var a=n(this.element),b=this.size&&a;return b&&a.innerWidth!==this.size.innerWidth},q.prototype.addItems=function(a){var b=this._itemize(a);return b.length&&(this.items=this.items.concat(b)),b},q.prototype.appended=function(a){var b=this.addItems(a);b.length&&(this.layoutItems(b,!0),this.reveal(b))},q.prototype.prepended=function(a){var b=this._itemize(a);if(b.length){var c=this.items.slice(0);this.items=b.concat(c),this._resetLayout(),this._manageStamps(),this.layoutItems(b,!0),this.reveal(b),this.layoutItems(c)}},q.prototype.reveal=function(a){var b=a&&a.length;if(b)for(var c=0;b>c;c++){var d=a[c];d.reveal()}},q.prototype.hide=function(a){var b=a&&a.length;if(b)for(var c=0;b>c;c++){var d=a[c];d.hide()}},q.prototype.getItem=function(a){for(var b=0,c=this.items.length;c>b;b++){var d=this.items[b];if(d.element===a)return d}},q.prototype.getItems=function(a){if(a&&a.length){for(var b=[],c=0,d=a.length;d>c;c++){var e=a[c],f=this.getItem(e);f&&b.push(f)}return b}},q.prototype.remove=function(a){a=d(a);var b=this.getItems(a);if(b&&b.length){this._itemsOn(b,"remove",function(){this.emitEvent("removeComplete",[this,b])});for(var c=0,f=b.length;f>c;c++){var g=b[c];g.remove(),e(g,this.items)}}},q.prototype.destroy=function(){var a=this.element.style;a.height="",a.position="",a.width="";for(var b=0,c=this.items.length;c>b;b++){var d=this.items[b];d.destroy()}this.unbindResize(),delete this.element.outlayerGUID,j&&j.removeData(this.element,this.constructor.namespace)},q.data=function(a){var b=a&&a.outlayerGUID;return b&&s[b]},q.create=function(a,c){function d(){q.apply(this,arguments)}return Object.create?d.prototype=Object.create(q.prototype):b(d.prototype,q.prototype),d.prototype.constructor=d,d.defaults=b({},q.defaults),b(d.defaults,c),d.prototype.settings={},d.namespace=a,d.data=q.data,d.Item=function(){p.apply(this,arguments)},d.Item.prototype=new p,g(function(){for(var b=f(a),c=h.querySelectorAll(".js-"+b),e="data-"+b+"-options",g=0,k=c.length;k>g;g++){var l,m=c[g],n=m.getAttribute(e);try{l=n&&JSON.parse(n)}catch(o){i&&i.error("Error parsing "+e+" on "+m.nodeName.toLowerCase()+(m.id?"#"+m.id:"")+": "+o);continue}var p=new d(m,l);j&&j.data(m,a,p)}}),j&&j.bridget&&j.bridget(a,d),d},q.Item=p,q}var h=a.document,i=a.console,j=a.jQuery,k=function(){},l=Object.prototype.toString,m="object"==typeof HTMLElement?function(a){return a instanceof HTMLElement}:function(a){return a&&"object"==typeof a&&1===a.nodeType&&"string"==typeof a.nodeName},n=Array.prototype.indexOf?function(a,b){return a.indexOf(b)}:function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1};"function"==typeof define&&define.amd?define("outlayer/outlayer",["eventie/eventie","doc-ready/doc-ready","eventEmitter/EventEmitter","get-size/get-size","matches-selector/matches-selector","./item"],g):a.Outlayer=g(a.eventie,a.docReady,a.EventEmitter,a.getSize,a.matchesSelector,a.Outlayer.Item)}(window),function(a){function b(a,b){var d=a.create("masonry");return d.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns();var a=this.cols;for(this.colYs=[];a--;)this.colYs.push(0);this.maxY=0},d.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var a=this.items[0],c=a&&a.element;this.columnWidth=c&&b(c).outerWidth||this.containerWidth}this.columnWidth+=this.gutter,this.cols=Math.floor((this.containerWidth+this.gutter)/this.columnWidth),this.cols=Math.max(this.cols,1)},d.prototype.getContainerWidth=function(){var a=this.options.isFitWidth?this.element.parentNode:this.element,c=b(a);this.containerWidth=c&&c.innerWidth},d.prototype._getItemLayoutPosition=function(a){a.getSize();var b=a.size.outerWidth%this.columnWidth,d=b&&1>b?"round":"ceil",e=Math[d](a.size.outerWidth/this.columnWidth);e=Math.min(e,this.cols);for(var f=this._getColGroup(e),g=Math.min.apply(Math,f),h=c(f,g),i={x:this.columnWidth*h,y:g},j=g+a.size.outerHeight,k=this.cols+1-f.length,l=0;k>l;l++)this.colYs[h+l]=j;return i},d.prototype._getColGroup=function(a){if(2>a)return this.colYs;for(var b=[],c=this.cols+1-a,d=0;c>d;d++){var e=this.colYs.slice(d,d+a);b[d]=Math.max.apply(Math,e)}return b},d.prototype._manageStamp=function(a){var c=b(a),d=this._getElementOffset(a),e=this.options.isOriginLeft?d.left:d.right,f=e+c.outerWidth,g=Math.floor(e/this.columnWidth);g=Math.max(0,g);var h=Math.floor(f/this.columnWidth);h-=f%this.columnWidth?0:1,h=Math.min(this.cols-1,h);for(var i=(this.options.isOriginTop?d.top:d.bottom)+c.outerHeight,j=g;h>=j;j++)this.colYs[j]=Math.max(i,this.colYs[j])},d.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var a={height:this.maxY};return this.options.isFitWidth&&(a.width=this._getContainerFitWidth()),a},d.prototype._getContainerFitWidth=function(){for(var a=0,b=this.cols;--b&&0===this.colYs[b];)a++;return(this.cols-a)*this.columnWidth-this.gutter},d.prototype.needsResizeLayout=function(){var a=this.containerWidth;return this.getContainerWidth(),a!==this.containerWidth},d}var c=Array.prototype.indexOf?function(a,b){return a.indexOf(b)}:function(a,b){for(var c=0,d=a.length;d>c;c++){var e=a[c];if(e===b)return c}return-1};"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size"],b):a.Masonry=b(a.Outlayer,a.getSize)}(window);	// IMAGES LOADED	/*! * imagesLoaded PACKAGED v3.1.6 * JavaScript is all like "You images are done yet or what?" * MIT License */	(function(){function e(){}function t(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function n(e){return function(){return this[e].apply(this,arguments)}}var i=e.prototype,r=this,o=r.EventEmitter;i.getListeners=function(e){var t,n,i=this._getEvents();if("object"==typeof e){t={};for(n in i)i.hasOwnProperty(n)&&e.test(n)&&(t[n]=i[n])}else t=i[e]||(i[e]=[]);return t},i.flattenListeners=function(e){var t,n=[];for(t=0;e.length>t;t+=1)n.push(e[t].listener);return n},i.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&(t={},t[e]=n),t||n},i.addListener=function(e,n){var i,r=this.getListenersAsObject(e),o="object"==typeof n;for(i in r)r.hasOwnProperty(i)&&-1===t(r[i],n)&&r[i].push(o?n:{listener:n,once:!1});return this},i.on=n("addListener"),i.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},i.once=n("addOnceListener"),i.defineEvent=function(e){return this.getListeners(e),this},i.defineEvents=function(e){for(var t=0;e.length>t;t+=1)this.defineEvent(e[t]);return this},i.removeListener=function(e,n){var i,r,o=this.getListenersAsObject(e);for(r in o)o.hasOwnProperty(r)&&(i=t(o[r],n),-1!==i&&o[r].splice(i,1));return this},i.off=n("removeListener"),i.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},i.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},i.manipulateListeners=function(e,t,n){var i,r,o=e?this.removeListener:this.addListener,s=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(i=n.length;i--;)o.call(this,t,n[i]);else for(i in t)t.hasOwnProperty(i)&&(r=t[i])&&("function"==typeof r?o.call(this,i,r):s.call(this,i,r));return this},i.removeEvent=function(e){var t,n=typeof e,i=this._getEvents();if("string"===n)delete i[e];else if("object"===n)for(t in i)i.hasOwnProperty(t)&&e.test(t)&&delete i[t];else delete this._events;return this},i.removeAllListeners=n("removeEvent"),i.emitEvent=function(e,t){var n,i,r,o,s=this.getListenersAsObject(e);for(r in s)if(s.hasOwnProperty(r))for(i=s[r].length;i--;)n=s[r][i],n.once===!0&&this.removeListener(e,n.listener),o=n.listener.apply(this,t||[]),o===this._getOnceReturnValue()&&this.removeListener(e,n.listener);return this},i.trigger=n("emitEvent"),i.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},i.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},i._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},i._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return r.EventEmitter=o,e},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return e}):"object"==typeof module&&module.exports?module.exports=e:this.EventEmitter=e}).call(this),function(e){function t(t){var n=e.event;return n.target=n.target||n.srcElement||t,n}var n=document.documentElement,i=function(){};n.addEventListener?i=function(e,t,n){e.addEventListener(t,n,!1)}:n.attachEvent&&(i=function(e,n,i){e[n+i]=i.handleEvent?function(){var n=t(e);i.handleEvent.call(i,n)}:function(){var n=t(e);i.call(e,n)},e.attachEvent("on"+n,e[n+i])});var r=function(){};n.removeEventListener?r=function(e,t,n){e.removeEventListener(t,n,!1)}:n.detachEvent&&(r=function(e,t,n){e.detachEvent("on"+t,e[t+n]);try{delete e[t+n]}catch(i){e[t+n]=void 0}});var o={bind:i,unbind:r};"function"==typeof define&&define.amd?define("eventie/eventie",o):e.eventie=o}(this),function(e,t){"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(n,i){return t(e,n,i)}):"object"==typeof exports?module.exports=t(e,require("eventEmitter"),require("eventie")):e.imagesLoaded=t(e,e.EventEmitter,e.eventie)}(this,function(e,t,n){function i(e,t){for(var n in t)e[n]=t[n];return e}function r(e){return"[object Array]"===d.call(e)}function o(e){var t=[];if(r(e))t=e;else if("number"==typeof e.length)for(var n=0,i=e.length;i>n;n++)t.push(e[n]);else t.push(e);return t}function s(e,t,n){if(!(this instanceof s))return new s(e,t);"string"==typeof e&&(e=document.querySelectorAll(e)),this.elements=o(e),this.options=i({},this.options),"function"==typeof t?n=t:i(this.options,t),n&&this.on("always",n),this.getImages(),a&&(this.jqDeferred=new a.Deferred);var r=this;setTimeout(function(){r.check()})}function c(e){this.img=e}function f(e){this.src=e,v[e]=this}var a=e.jQuery,u=e.console,h=u!==void 0,d=Object.prototype.toString;s.prototype=new t,s.prototype.options={},s.prototype.getImages=function(){this.images=[];for(var e=0,t=this.elements.length;t>e;e++){var n=this.elements[e];"IMG"===n.nodeName&&this.addImage(n);var i=n.nodeType;if(i&&(1===i||9===i||11===i))for(var r=n.querySelectorAll("img"),o=0,s=r.length;s>o;o++){var c=r[o];this.addImage(c)}}},s.prototype.addImage=function(e){var t=new c(e);this.images.push(t)},s.prototype.check=function(){function e(e,r){return t.options.debug&&h&&u.log("confirm",e,r),t.progress(e),n++,n===i&&t.complete(),!0}var t=this,n=0,i=this.images.length;if(this.hasAnyBroken=!1,!i)return this.complete(),void 0;for(var r=0;i>r;r++){var o=this.images[r];o.on("confirm",e),o.check()}},s.prototype.progress=function(e){this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded;var t=this;setTimeout(function(){t.emit("progress",t,e),t.jqDeferred&&t.jqDeferred.notify&&t.jqDeferred.notify(t,e)})},s.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var t=this;setTimeout(function(){if(t.emit(e,t),t.emit("always",t),t.jqDeferred){var n=t.hasAnyBroken?"reject":"resolve";t.jqDeferred[n](t)}})},a&&(a.fn.imagesLoaded=function(e,t){var n=new s(this,e,t);return n.jqDeferred.promise(a(this))}),c.prototype=new t,c.prototype.check=function(){var e=v[this.img.src]||new f(this.img.src);if(e.isConfirmed)return this.confirm(e.isLoaded,"cached was confirmed"),void 0;if(this.img.complete&&void 0!==this.img.naturalWidth)return this.confirm(0!==this.img.naturalWidth,"naturalWidth"),void 0;var t=this;e.on("confirm",function(e,n){return t.confirm(e.isLoaded,n),!0}),e.check()},c.prototype.confirm=function(e,t){this.isLoaded=e,this.emit("confirm",this,t)};var v={};return f.prototype=new t,f.prototype.check=function(){if(!this.isChecked){var e=new Image;n.bind(e,"load",this),n.bind(e,"error",this),e.src=this.src,this.isChecked=!0}},f.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},f.prototype.onload=function(e){this.confirm(!0,"onload"),this.unbindProxyEvents(e)},f.prototype.onerror=function(e){this.confirm(!1,"onerror"),this.unbindProxyEvents(e)},f.prototype.confirm=function(e,t){this.isConfirmed=!0,this.isLoaded=e,this.emit("confirm",this,t)},f.prototype.unbindProxyEvents=function(e){n.unbind(e.target,"load",this),n.unbind(e.target,"error",this)},s});/* VARIABLES -------------------------*/	var scroll_speed = 200,		cycle_index = 0,		cycle_time = 3000,		content_index = 'idle',		slash_time = 20,		next_slash_content,		next_translate_content,		menu_open = false,	    write_pause = false,	    msnry,	    carousel_index,	    carousel_next,	    carousel_previous,	    old_y = 0,	    header_height,	    principal_height,		scrolling = false,		scroll_timer,		gesture_in_progress,		header_open = false,		old_top		carousel_preloads = new Array();/* FUNCTIONS -------------------------*/	// ADJUST TEMPLATE	function adjustTemplate() { 		console.log('ADJUSTING TEMPLATE');			var gutter_width,			margin_width,			conatiner_width,			nav_items,			list_items,			masonry_container,			wrapper_height;				// Check tipping point		if (window.innerWidth < tipping_point) {			jQuery('.filtered-list').hide();			jQuery('#projects-list').css({'padding-top': '13.7rem'});		} else {			jQuery('.filtered-list').show();			jQuery('#projects-list').css({'padding-top': '15rem'});		}				// Mobile modifications		if (mobile) {			jQuery('#landing-message-wrapper').css({'position': 'absolute'});		}				// Set rem val		remSet();				// Get header height		header_height = jQuery('#site-header').outerHeight();				// Get principal height		principal_height = jQuery('.principal-image').outerHeight();				// Find masonry container		masonry_container = document.getElementsByClassName('masonry-wrapper');		if (masonry_container != undefined) {			masonry_container = masonry_container[0];			console.log('masonry container = ' + masonry_container);		}				// Check scroll dependent items		checkForScroll();  		  		// Set site wrapper padding to header height		if ( document.getElementById('site-wrapper') != undefined ) {			document.getElementById('site-wrapper').style.paddingTop = header_height/rem_val + 'rem';		}				if ( masonry_container != undefined ) {			jQuery('.masonry-block').css({'margin-top':'0px'});									// set gutter, column and module sizes			if ( jQuery('#project-content-container').length > 0 ) { console.log('project'); gutter_width = parseInt(jQuery('#project-content-container').css('padding-left')); }			if ( jQuery('#landing-content-container').length > 0 ) { console.log('landing'); gutter_width = parseInt(jQuery('#landing-content-container').css('padding-left')); }			if ( jQuery('#compost-content-container').length > 0  ) { console.log('content'); gutter_width = parseInt(jQuery('#compost-content-container').css('padding-left')); }						if ( window.innerWidth < tipping_point ) {				column_width = Math.floor(( masonry_container.offsetWidth - ( 2 * gutter_width ) ) /2 );				jQuery('.large-project-image, .medium-project-image, .module-single-large, .module-dual-large, .module-single-medium, .module-dual-medium').css({'width':( ( column_width * 2 + ( 1 * gutter_width ) ) /rem_val ) + "rem", 'margin-bottom': gutter_width/rem_val + "rem"});				jQuery('.small-project-image, .module-single-small, .module-dual-small').css({'width':( ( column_width * 2 + ( 1 * gutter_width ) ) /rem_val ) + "rem", 'margin-bottom': gutter_width/rem_val + "rem"});				jQuery('.small-project-quote, .module-post').css({'width':( ( column_width * 2 + ( 1 * gutter_width ) ) /rem_val ) + "rem", 'margin-bottom': ( gutter_width * 2 ) /rem_val + "rem"});							} else { 				margin_width = gutter_width;				gutter_width = gutter_width*.666666;				column_width = Math.floor( ( masonry_container.offsetWidth - ( 5 * gutter_width  + margin_width ) ) /6 );				jQuery('.large-project-image, .module-single-large, .module-dual-large').css({'width':( ( column_width * 4 + ( 3 * gutter_width ) ) /rem_val ) + "rem", 'margin-bottom': gutter_width/rem_val + "rem"});				jQuery('.medium-project-image, .module-single-medium, .module-dual-medium').css({'width':( ( column_width * 3 + ( 2 * gutter_width ) ) /rem_val ) + "rem", 'margin-bottom': gutter_width/rem_val + "rem"});				jQuery('.small-project-image, .module-single-small, .module-dual-small').css({'width':( ( column_width * 2 + ( 1 * gutter_width ) ) /rem_val ) + "rem", 'margin-bottom': gutter_width/rem_val + "rem"});				jQuery('.small-project-quote, .module-post').css({'width':( ( column_width * 2 + ( 1 * gutter_width ) ) /rem_val ) + "rem", 'margin-bottom': ( gutter_width * 2) /rem_val + "rem"});			}  		  			  			// Initialize masonry   			if (msnry == undefined){				imagesLoaded( masonry_container, function() {					msnry = new Masonry( masonry_container, {  						itemSelector: '.masonry-block',    	    			isResizeBound: false,    	    			columnWidth: column_width,     	    			gutter: gutter_width,    	    			transitionDuration: 0					});					jQuery('.masonry-block').addClass('unshifted');					shiftInMasonry();					checkForScroll(true);				});  		  			// Adjust masonry 			} else {				msnry.options.columnWidth = column_width;				msnry.options.gutter = gutter_width;				msnry.layout();				shiftInMasonry();				checkForScroll(true);			}					}				if ( typeof preloading_images != 'undefined' ) {			preloadImages();		}	}		// SHIFT IN MASONRY BLOCKS	function shiftInMasonry(){	console.log('SHIFT IN MASONRY');		if (msnry != undefined) {			jQuery('.unshifted').each(function(){				jQuery(this).css({'margin-top':'100px'});			//	if ( jQuery(this).attr('id') != 'hero_image') {					if ( jQuery(this).offset().top -100 < jQuery(window).scrollTop() + jQuery(window).height() ) {						jQuery(this).animate({'opacity':'1', 'margin-top':'0px'}, scroll_speed*4, 'easeOut' ).removeClass('unshifted').addClass('shifted');					} 			//	}						});	//		jQuery('.big-unshifted').each(function(){	//			if ( jQuery(this).offset().top-100 < jQuery(window).scrollTop() + jQuery(window).height() ) {	//				jQuery(this).animate({'opacity':'1', 'margin-top':'0px'}, scroll_speed*6, 'easeOut' ).removeClass('big-unshifted').addClass('shifted');	//			}				//		});			jQuery('#project-overview').animate({'opacity': 1}, scroll_speed*4, 'easeOut');		}	}	function heroShift(){	console.log('SHIFT IN HERO');		jQuery('#hero_image' ).attr('src', jQuery('#pre_hero_image').attr('src')).animate({'opacity':'1', 'margin-top':'0px'}, scroll_speed*4, 'easeOut' );		jQuery("#title-box").css({'background-image':'none'});	}		// CYCLE SLASH OPTIONS	function cycleSlashes() {	//console.log('CYCLE SLASH OPTION');			if ( !jQuery.isEmptyObject(slash_content) ) {			next_slash_content = slash_content[ cycle_index ];			cycle_index = ( cycle_index  < slash_content.length - 1 )? cycle_index + 1: 0;			rewriteContent(document.getElementById('slashes'), next_slash_content, slash_content );		}	}		// REWRITE SLASH CONTENT	function rewriteContent(where_to_write, what_to_write, call_recycle) {	//console.log('REWRITE SLASH CONTENT');			var current_content = jQuery(where_to_write).text();					// Erase content			if ( content_index == 'idle' ) {			if (current_content != '') {				where_to_write.innerHTML = current_content.substring(0, current_content.length - 1);			} else {				content_index = what_to_write.length;			}	    	setTimeout(function(){ rewriteContent(where_to_write, what_to_write, call_recycle); }, slash_time);	    		    // Write new content	    } else if ( content_index >= 0 ) {			where_to_write.innerHTML = what_to_write.substring(0, what_to_write.length - content_index + 1);			content_index --;	    	setTimeout(function(){ rewriteContent(where_to_write, what_to_write, call_recycle); }, slash_time);	    		    // End writing		} else {			content_index = 'idle';	   		write_pause = false;			if (call_recycle) {				if ( call_recycle.length > 1 ) { 					setTimeout(cycleSlashes, cycle_time) 				}			}		}	}		// TOGGLE THE WORK MENU 	function toggleMenu(opening) {	console.log('TOGGLE THE WORK MENU');		var new_left,			nav_class,			new_top;		if( opening != menu_open ) {			if ( opening == true ) {				menu_open = true;				new_left = '50%';				nav_class = ( jQuery('body').attr('class') == 'black' )? 'white posfix': 'black posfix';				old_top = jQuery(window).scrollTop();				new_top = ( jQuery('#landing-message-wrapper').length <= 0 )? 0 - jQuery(window).scrollTop(): 0 - jQuery(window).scrollTop() + jQuery('#landing-content-wrapper').position().top ;				new_top = 0 - jQuery(window).scrollTop();								console.log(' ');				console.log(' ');				console.log('------------------');				console.log('------------------');				console.log( 'scroll = ' + jQuery(window).scrollTop() );				console.log( 'header height = ' + header_height );				console.log( 'padding = ' + ( jQuery('#site-wrapper').css('padding-top') ) );				console.log( 'new top = ' + new_top);				console.log( 'old top = ' + old_top );								if ( jQuery('#landing-content-wrapper').length > 0 ) {					console.log( 'content top = ' + jQuery('#landing-content-wrapper').position().top );					jQuery('#landing-content-wrapper').css( { 'top': ( jQuery('#landing-content-wrapper').position().top/rem_val ) + 'rem' } );				}				jQuery('#tint').show().animate({'opacity': .75}, scroll_speed*2, "easeOut");				jQuery('#site-footer').hide();				jQuery('#site-wrapper').css({'position':'fixed', 'top': (new_top/rem_val) + 'rem' });							} else if ( opening == false ) {				menu_open = false;				new_left = '100%';				nav_class = jQuery('body').attr('class') + ' posfix';				jQuery('#tint').animate({'opacity': 0}, scroll_speed*2, "easeOut", function(){					jQuery('#tint').hide();					jQuery('#site-footer').show();				});				jQuery('#landing-content-wrapper').css( { 'top':'80%' } );				jQuery('html, body').animate({ scrollTop: old_top }, 10, 'easeOut');				jQuery('#site-wrapper').css({'position':'initial'}).animate({'top':'0px' }, 10, 'easeOut');			}			jQuery('#work-nav').animate({'left': new_left}, scroll_speed*2, "easeOut");		}		return false;	}		// TOGGLE PROJECTS IN WORK MENU    function showTerms(class_to_show, calling_item) {    console.log('TOGGLE PROJECTS IN WORK MENU');		jQuery('.filtered-list').each(function(){			var info = jQuery(this).attr('id').split('-');			if (info[2] == class_to_show ) {				jQuery(this).html('<a href="javascript:showTerms(\'all\', \''+info[0]+'-'+info[1]+'\');" class="active" >'+ info[2].charAt(0).toUpperCase() + info[2].slice(1) +'</a>');			} else {				jQuery(this).html('<a href="javascript:showTerms(\''+info[2]+'\', \''+info[0]+'-'+info[1]+'\');">'+ info[2].charAt(0).toUpperCase() + info[2].slice(1) +'</a>');			}		});		if ( class_to_show == 'all') { class_to_show = 'project'; }		jQuery('#scrolling-contents').css({'top': '10rem','opacity':'0'});		jQuery('#scrolling-wrapper').scrollTop(0);    	jQuery('.project').hide();    	jQuery('.persistant' ).show();    	jQuery('.' + class_to_show ).show();		jQuery('#scrolling-contents').animate({'top': '0px','opacity':'1'}, scroll_speed*4, 'easeOut');    }		// TOGGLE FILTER IN WORK NAV    function toggleFilter() {    console.log('TOGGLE FILTER');		if ( jQuery('.filtered-list').is(':visible') ) {			jQuery('.filtered-list').hide();			jQuery('#projects-list').css({'padding-top': '13rem'});		} else  {			jQuery('.filtered-list').show();			jQuery('#projects-list').css({'padding-top': '32rem'});		}    }		// SCROLL TO THE TOP 	function scrollToTop( element, to_vertical, to_horizontal, duration ) {	console.log('SCROLL TO TOP');		var speed = (jQuery(document).height()/1500) * scroll_speed;		jQuery('html, body').animate({ scrollTop: 0 }, speed, 'easeOut');	}		// CHECK SCROLL DEPENDANT ITEMS	function checkForScroll(init){	//console.log('CHECK SCROLL DEPENDANT ITEMS');					if (menu_open == false ) {			console.log('boogins');			var difference = ( ( old_y - jQuery(window).scrollTop() ) + jQuery('#site-header').position().top );	    	var max_header_shift = Math.max( (0 - header_height - 1), (0 - jQuery(window).scrollTop()) - 1 );	    	var overflow = jQuery(window).scrollTop() + jQuery(window).height() - jQuery(document).height();	    	var add_class,	    		remove_class;					// Decide whether or not to show back to top link			if ( jQuery('#bottom-nav-top') != undefined ) {				if ( jQuery(window).scrollTop() > header_height ) {					jQuery('#bottom-nav-top').show();	    		} else {					jQuery('#bottom-nav-top').hide();	    		} 	    	}    		    	// Sync main nav to top of page	    	difference = ( overflow > 0 )? difference - overflow: difference;	    	difference = ( difference > 0)? 0: difference;	    	difference = ( difference < max_header_shift )? max_header_shift: difference;	    	if ( jQuery('#landing-message-wrapper').outerHeight() <= header_height && header_open == false ){		    	jQuery('#site-header').css({'top': ( difference/rem_val ) + 'rem'});		    } else {		    	jQuery('#site-header').css({'top': '0rem'});		    }		    			// Preload images when in the window			jQuery(".scroll_load").each(				function(i,obj){  					if ( jQuery(this).offset().top <= jQuery(window).scrollTop() + (jQuery(window).height()) / 1) {						link = jQuery(this).attr("id");						console.log(link);					//	jQuery('#' + link ).css('opacity', 0);						jQuery('#image_load_holder').append('<img id="pre_'+link+'" src="'+display_images[link]+'" onload="loadImage(\''+ link +'\');" >');					}				}			);    		    	// Set height of the landing message	    	if ( jQuery('#landing-content-container').length > 0 && msnry) {	    		if ( !mobile) {	    			wrapper_height = ( jQuery(window).height() - jQuery(window).scrollTop() * 1.5 ) * .9;	    			if ( wrapper_height <= 0 ) {	    				remove_class = 'black';	    				add_class = 'white';	    				pad_top = 0;	    			} else {	    				remove_class = 'white';	    				add_class = 'black';	    				pad_top = header_height + jQuery('#site-header').position().top;	    			}	    		} else {	    			pad_top = header_height;	    			console.log('height = '+jQuery('#landing-message-wrapper').outerHeight());	    			wrapper_height = jQuery('#landing-message-wrapper').outerHeight();	    			if ( jQuery('#landing-message-wrapper').position().top - jQuery(window).scrollTop() + wrapper_height <= 0 ) {	    				remove_class = 'black';	    				add_class = 'white';	    			} else {	    				remove_class = 'white';	    				add_class = 'black';	    			}	    		}	    		jQuery('#landing-message-wrapper').css({'height': ( wrapper_height/rem_val ) + 'rem', 'padding-top': pad_top/rem_val + 'rem'});				jQuery('#site-header').removeClass(remove_class).addClass(add_class);	    	}    				// Record the last value			old_y = jQuery(window).scrollTop();			scrolling = true;			clearTimeout(scroll_timer);			scroll_timer = setTimeout( function(){stopScroll(jQuery(window).scrollTop())}, 50);		}    }		// STOP SCROLL    function stopScroll(last_y){    	if (last_y == old_y) {			console.log('STOP SCROLL');			clearTimeout(scroll_timer);    		scrolling = false;    		jQuery('.module-single-small, .module-dual-small, .module-single-medium, .module-dual-medium, .module-single-large, .module-dual-large, .project, blockquote, .small-project-image, .medium-project-image, .large-project-image, #archive-grid .grid-image, #capability-grid .grid-image').each( function(){    			if ( jQuery(this).is(":hover") && !mobile ) {    				console.log(jQuery(this));    				toggleModuleRollover( this,'on' );    			}    		});    		if (header_open == true ) {    			toggleHeader(true);    		}    	}    }		// TOGGLE THE HEADER 	function toggleHeader(show) {	console.log('TOGGLE THE HEADER');	var window_top = jQuery(window).scrollTop();	var header_top =  Math.max( ( 0 - header_height ), ( 0 - window_top ) ) ;		if ( window_top > 0) {			if ( show ){				if ( header_open == false ) {					console.log('begin down');					jQuery('#site-header').animate({ 'top': '0px' }, scroll_speed*2, function(){						console.log('end down');					});				}			} else if ( !jQuery('#landing-message-wrapper').length > 0 || jQuery('#landing-message-wrapper').outerHeight() <= 0 ) {				if ( header_open == true ) {					console.log('begin up');					jQuery('#site-header').animate({'top': header_top/rem_val + 'rem'}, scroll_speed*2, function(){						console.log('end up');					});				}			}		}	}	// TRANSLATE MOTS FRANÇAIS	function translateFrench(french_span) {	console.log('TRANSLATE MOTS FRANÇAIS');	    next_translate_content = french_span.getAttribute("title");	    french_span.setAttribute('title', french_span.innerHTML);	    write_pause = true;		rewriteContent(french_span, next_translate_content);	}		// VALIDATE EMAIL	function validateEmail($email) {	console.log('VALIDATE EMAIL');		var emailReg = /^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/;		if ( $email != '' && emailReg.test( $email ) )  { 				return true;		}		return false;	}		// SUBMIT SUBSCRIPTION	function submitSubscription() {	console.log('SUBMIT SUBSCRIPTION');		var new_column_height = (window.innerWidth < tipping_point)? 45: 25;		if( !validateEmail( jQuery('#mce-EMAIL').val() ) ) { 			jQuery('#mce-label, #mce-EMAIL, #mc-embedded-subscribe, #mce-rule').hide();			jQuery('#mce-responses').html( 'Please enter a valid email address' );			setTimeout(function(){showSubscription()}, 3000);		} else { 			jQuery.ajax({				type: jQuery('#mc-embedded-subscribe-form').attr('method'),				url: jQuery('#mc-embedded-subscribe-form').attr('action'),				data: jQuery('#mc-embedded-subscribe-form').serialize(),				cache       : false,				dataType    : 'json',				contentType	: "application/json; charset=utf-8",				error       : function(err) { 					console.log("Could not connect to the registration server. Please try again later."); 				},				success     : function(data) {					jQuery('#mce-label, #mce-EMAIL, #mc-embedded-subscribe, #mce-rule').hide();					jQuery('.footer-column').animate({'height':new_column_height + 'rem'}, scroll_speed, 'easeOut', function(){						if (data.result != "success") { 							jQuery('#mce-responses').html( data.msg );						} else {							jQuery('#mce-responses').html( data.msg );						}						setTimeout(function(){showSubscription()}, 3000);					});				}			});		}    	return false;	}		// SHOW SUBSCRIPTION	function showSubscription() {	console.log('SHOW SUBSCRIPTION');		var new_column_height = (window.innerWidth < tipping_point)? 35: 25;		document.getElementById("mc-embedded-subscribe-form").reset();		jQuery('#mce-responses').html( '' );		jQuery('#mce-label, #mce-EMAIL, #mc-embedded-subscribe, #mce-rule').show();		jQuery('.footer-column').animate({'height':new_column_height + 'rem'}, scroll_speed, 'easeOut');	}		// TOGGLE MODULE ROLLOVER	function toggleModuleRollover( which_rollover,state ){	//console.log('TOGGLE MODULE ROLLOVER');		var item = jQuery(which_rollover).find('.module-foreground-rollover');		var fs_icon = jQuery(which_rollover).find('.fullscreen');		var caption_conatiner = jQuery(which_rollover).find('.caption-container');				if ( state == 'off' ) {			if ( item != undefined ) {				item.animate({opacity: 0},scroll_speed, 'easeOut', function(){		    		item.hide();		 		});		 	}		 	if ( fs_icon != undefined ) {		 		fs_icon.hide();		 	}		} else {			if ( !scrolling ) {				if ( item != undefined ) {			  	  item.show();			  	  item.animate({opacity: 1},scroll_speed*2, 'easeOut', function(){});			  	}			 	if ( fs_icon != undefined ) {			 		fs_icon.show();			 	}			} 		}		if ( caption_conatiner != undefined && caption_conatiner.html() != jQuery(which_rollover).attr('title')) {			caption_conatiner.html(jQuery(which_rollover).attr('title'));		} else {					if ( !scrolling ) {				caption_conatiner.html('<img src="' + jQuery(which_rollover).attr('href') + '" />');			}		}	}		// CALL THE CAROUSEL	function callCarousel( which_image ){	console.log('CALL CAROUSEL');		var project_offset;		if (which_image == undefined) { 		console.log('closing');			//window.scrollTo(0,500);			jQuery('html, body').animate({ scrollTop: ( 0 - parseInt( jQuery('#project-content-container').css('top') ) ) }, 1);			jQuery('#project-content-container').css({ 'top':'0px', 'position':'relative'});			jQuery('#carousel').hide();					} else {			carousel_index = which_image;			carousel_next = (which_image + 1 > carousel_images.length - 1 )? 0: which_image + 1;			carousel_previous = (which_image - 1 < 0)? carousel_images.length - 1: which_image - 1;			carousel_caption = (carousel_images[which_image].caption != '')? '— ' +carousel_images[which_image].caption: '';			jQuery('#carousel-caption').html( carousel_caption );			jQuery('#carousel-image-index').html( which_image + 1 );			jQuery('#carousel-image-count').html( carousel_images.length );			jQuery('#carousel-window').css('background-image', 'url(\'' + carousel_images[which_image].src + '\')');			jQuery('#project-content-container').css({ 'top': ( 0 - ( jQuery(window).scrollTop() /rem_val ) ) + 'rem', 'position':'fixed'});			jQuery('#carousel').show();			resolveOrientation();		}	}		// SWIPE CAROUSEL	function swipeCarousel() {	console.log('SWIPE CAROUSEL');		if (!gesture_in_progress) {			jQuery('#carousel-container').animate({'margin': '0px auto' }, scroll_speed, 'easeOut', function(){			//	jQuery('meta[name=viewport]').attr('content', 'width=' + screen.width + ', initial-scale=.5, minimum-scale=.5, maximum-scale=.5');			});			if ((down_x - up_x) > 400) {				callCarousel(carousel_next);			}			if ((up_x - down_x) > 400) {				callCarousel(carousel_previous);			}		}	}		// TOGGLE CAROUSEL ARROWS	function toggleArrow( which_arrow, what_ammount ){	console.log('TOGGLE ARROW');		var what_opacity = ( what_ammount == '100%' )? 0: 1;		console.log(what_opacity);		if (which_arrow == 'previous') {			jQuery('#carousel-' + which_arrow).animate({ 'left' : what_ammount, 'opacity': what_opacity }, scroll_speed*3, 'easeOut');					} else {			jQuery('#carousel-' + which_arrow).animate({ 'right' : what_ammount, 'opacity': what_opacity }, scroll_speed*3, 'easeOut');		}				}		// SWAP BACKGROUND IMAGE	function swapBackground( which_element, which_image ){	console.log('SWAP BACKGROUND');		if (which_image != ''){			which_element.style.backgroundImage = "url('"+ which_image +"')";		}	}		// ANIMATE BLINKER	function animateBlinker(item_to_blink) {	console.log('ANIMATE BLINKER');		var new_opacity = ( item_to_blink.style.opacity > 0 )? 0: 1;		jQuery(item_to_blink).animate({opacity: new_opacity}, scroll_speed, 'easeOut', function() {			setTimeout(function(){				animateBlinker(item_to_blink);			}, blink_interval);		});	}		// RESOLVE ORIENTATION	function resolveOrientation(){	console.log('RESOLVE ORIENTATION');		var content_width, content_height, screen_dimension;		// portrait		if (window.orientation == 0 || window.orientation == 180) {        	content_width = screen.width;        	content_height = screen.height;                // landscape		} else if (window.orientation == 90 || window.orientation == -90) {			content_width = screen.height;        	content_height = screen.width;		}				console.log('boosh');		// resize viewport		//jQuery('meta[name=viewport]').attr('content', 'width=' + content_width + ',' + 'initial-scale=' + .5);		jQuery('meta[name=viewport]').attr('content', 'initial-scale=.5, minimum-scale=.5, maximum-scale=.5, width=' + content_width + ', height=' + content_height + ', target-densitydpi=device-dpi, minimal-ui');		    	if ((window.scrollY) > 0 || (window.scrollX) > 0 && jQuery("#carousel").is(':visible') ) {			window.scrollTo(0,0);		}		adjustTemplate();	}		// SLIDE PRINCIPAL IMAGE	function slidePrincipal(which_principal,show){	console.log('SLIDE PRINCIPAL');		var new_y_position, new_ease;		// show		if (show) {        	new_y_position = ( jQuery(which_principal).hasClass('animate-top') )? '5%':  '-5%';        	new_ease = 'easeIn';                // hide		} else {        	if ( jQuery(which_principal).hasClass('animate-top') ) {				new_y_position = '1300%';			} else {				new_y_position = '-1100%';			}        	new_ease = 'easeOut';		}		jQuery(which_principal).animate({ 'background-position-y':new_y_position }, scroll_speed*2, new_ease);	}		// PAINT IMAGES WHEN LOADED	function loadImage(fin) {	console.log('PAINT (' + fin + ')');		jQuery('#' + fin ).parent().css('background-image', 'none');		if ( jQuery('#' + fin ).is('div') ) {			jQuery('#'+ fin).css("background-image", "url('" + display_images[fin] + "')" ).animate({opacity: 1}, scroll_speed);		} else {			jQuery('#' + fin ).attr('src', display_images[fin]).animate({opacity: 1}, scroll_speed);  		}		//if (fin = "hero_image") heroShift();		jQuery('#'+ fin).removeClass("scroll_load");	}		function preloadImages(){		var images = new Array(); 		for (i = 0; i < preloading_images.length; i++) { 			console.log('preloading ' + preloading_images[i]);			images[i] = new Image(); 			images[i].src = preloading_images[i];		}	}/* BIND FUNCTIONS -------------------------*/		// SECTION LIST WORK LINK	jQuery('#section-list-work').click(function(e) { e.preventDefault(); toggleMenu(true); });		// WORK CLOSE	jQuery('#work-close').click(function(e) { toggleMenu(false); }); 		// TINT	jQuery('#tint').click(function() { toggleMenu(false); }); 		// CAROUSEL CLOSE	jQuery('#carousel-close').click(function() { callCarousel(); }); 		// MAIN PHONE	if ( document.getElementById('main-phone') != undefined ) { 		if ( blink_interval > 0 ) { animateBlinker(document.getElementById('main-phone')); } 	}		// MASONRY PROJECTS AND GRID-IMAGES	jQuery('blockquote, .small-project-image, .medium-project-image, .large-project-image, #archive-grid .grid-image, #capability-grid .grid-image').hover(		function(){ if (!mobile) { toggleModuleRollover( this,'on' ); } },		function(){ if (!mobile) { toggleModuleRollover( this,'off' ); } }	);		// MASONRY MODULES AND PROJECTS	jQuery('.module-single-small, .module-dual-small, .module-single-medium, .module-dual-medium, .module-single-large, .module-dual-large, .project').hover(		function(){ toggleModuleRollover( this,'on' ); },		function(){ toggleModuleRollover( this,'off' ); }	);		// CAROUSEL LEFT	jQuery('#carousel-left').hover( 		function(){ if (!mobile) { toggleArrow( 'previous','2.5rem' ); } },		function(){ if (!mobile) { toggleArrow( 'previous','100%' ); } }	).click( 		function() { if (!ios) callCarousel(carousel_previous); } 	);		// CAROUSEL RIGHT	jQuery('#carousel-right').hover( 		function(){ if (!mobile) { toggleArrow( 'next','2.5rem' ); } },		function(){ if (!mobile) { toggleArrow( 'next','100%' ); } }	).click( 		function() { if (!ios) callCarousel(carousel_next); } 	);		// HEADER WRAPPER	jQuery('#header-wrapper').hover( 		function(){ if (!mobile) { toggleHeader(true); header_open = true; } },		function(){ if (!mobile) { toggleHeader(); header_open = false; } }	).mousemove(		function(){ if (!mobile) { header_open = true;  } }	);	// PRINCIPAL IMAGE	jQuery('.principal-image').hover( 		function(){ slidePrincipal(this, true); },		function(){ slidePrincipal(this, false); }	);	// SUBSCRIBE FORM	jQuery('#mc-embedded-subscribe-form').on('submit', function () {    	submitSubscription();    	return false;	});			// WINDOW SCROLL	window.onscroll = function(ev) { checkForScroll(); shiftInMasonry();};		// BODY TOUCHMOVE	jQuery('body').on("touchstart", function(e){ 			down_x = e.originalEvent.touches[0].pageX; 	});	jQuery('body').on({ 'touchmove': function(e) { 		if (jQuery("#carousel").is(':visible') ) {			up_x = e.originalEvent.touches[0].pageX; 			jQuery('#carousel-container').css({'margin': '0px ' + (down_x - up_x) + 'px 0px ' + (up_x - down_x) + 'px' });		} else {			checkForScroll(); styleLandingNav(); shiftInMasonry(); } 		}	});	jQuery('body').on("touchend", function(e) { 		if ( jQuery("#carousel").is(':visible') ) {			swipeCarousel(); 		}	});	jQuery('body').on("gesturestart", function(e){ gesture_in_progress = true; });	jQuery('body').on("gestureend", function(e) { gesture_in_progress = false; });		// WINDOW RESIZE	window.onresize = function() { adjustTemplate(); }		// ORIENTATION CHANGE	window.onorientationchange = function(ev) { resolveOrientation(ev); }/* FIRE FUNCTIONS -------------------------*/	// INITIALIZE TEMPLATE	adjustTemplate(); 	 	// ADD BORDER TO TRANSLATE 	jQuery(window).load( function(){ 		jQuery('.translate').css({ 'border-bottom':'.4rem solid'}); 	}); 		// START SLASHES CYCLE 	cycleSlashes(); 	 	console.log(carousel_images); 	var cindex = 0; 	carousel_images.forEach( function (arrayItem) {    	console.log(arrayItem.src);			carousel_preloads[cindex] = new Image(); 			carousel_preloads[cindex].src = arrayItem.src;			cindex++;	}); //-->